/* ctxShark 0.2 - MIT license - github.com/danielmendel/ctxShark */!function(a){function d(a){var b=a.length,c={};while(b--)c[a[b]]=b;return c}function g(a){return JSON.parse(JSON.stringify(a))}"use strict";var b=["webkitImageSmoothingEnabled","webkitBackingStorePixelRatio","fillStyle","strokeStyle","textBaseline","textAlign","font","lineDashOffset","shadowColor","shadowBlur","shadowOffsetY","shadowOffsetX","miterLimit","lineJoin","lineCap","lineWidth","globalCompositeOperation","globalAlpha"],c=["save","restore","scale","rotate","translate","transform","setTransform","createLinearGradient","createRadialGradient","getLineDash","clearRect","fillRect","beginPath","closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","rect","arc","fill","stroke","clip","isPointInPath","measureText","setAlpha","setCompositeOperation","setLineWidth","setLineCap","setLineJoin","setMiterLimit","clearShadow","fillText","strokeText","setStrokeColor","setFillColor","strokeRect","drawImage","drawImageFromRect","setShadow","putImageData","webkitPutImageDataHD","createPattern","createImageData","getImageData","webkitGetImageDataHD","setLineDash"],e=d(c),f=d(b);a.ctxShark=function(a){function k(){var c=b.length;while(c--){var d=b[c];i[d]!==a[d]&&(i[d]=a[d],h.push([f[d],"=",a[d]]))}}function l(){j&&(d.push(h),h=[],requestAnimationFrame(l))}function m(a){for(var f in a)typeof a[f]=="function"&&e.hasOwnProperty(f)&&function(b){window.console&&console.log&&console.log("patching "+b);var c=a[b];a[b]=function(){j&&(k(),h.push([e[b],arguments])),c.apply(this,arguments)}}(f);return a.startBuffer=function(b){return requestAnimationFrame(l),typeof b!==undefined&&setTimeout(a.stopBuffer,b),j=!0},a.stopBuffer=function(){return j=!1},a.getBuffer=function(){return d},a.playBuffer=function(e){function i(){var d=f.shift(),e=[];while(d.length){var g=d.shift();g.length===3&&(a[b[g[0]]]=g[2]);if(g.length===2){var j=[],k=0;while(typeof g[1][k]!="undefined")j.push(g[1][k++]);a[c[g[0]]].apply(a,j)}e.push(g)}h.push(e),f.length||(f=h,h=[]),requestAnimationFrame(i)}var f=g(e||d),h=[];requestAnimationFrame(i)},a}window.console&&console.log&&console.log("~~~âˆ†~~~ <( shark!!! ) ~~~~");var d=[],h=[],i={},j=!1;return m(a)}}(this);